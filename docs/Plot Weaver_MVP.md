알겠습니다. 핵심적인 피드백입니다. **Git의 워크플로우를 소설 창작에 도입하는 것이 '플롯 위버'의 대체 불가능한 핵심 가치(Unique Selling Proposition)**라는 점을 명확히 하고, 이를 MVP에 최우선으로 반영하여 기획 문서를 재구성하겠습니다.

다른 부가 기능들을 과감히 축소하거나 Post-MVP로 넘기더라도, 1인 개발자가 **'Git for Novels'**라는 혁신적인 경험을 사용자에게 확실히 각인시킬 수 있는 버전에 집중합니다.

---

## **[최종 기획 문서] Plot Weaver v3.1 (Git-centric MVP)**

### **AI 기반 Git-powered 창작 워크스페이스**

### **1. 프로젝트 비전 (The Why)**

*   **프로젝트명:** 플롯 위버 (Plot Weaver)
*   **한 줄 요약:** Git의 강력한 버전 관리 시스템을 소설 창작에 도입한 AI 기반 개인 워크스페이스.
*   **핵심 가치 제안:** 작가가 더 이상 **'하나의 정답 루트'를 찾아 헤매는 고통**에서 벗어나, 모든 아이디어의 가능성을 **'브랜치(Branch)'**로 자유롭게 탐색하고, 가장 빛나는 서사를 **'병합(Merge)'**하며, 모든 창작의 과정을 안전하게 **'커밋(Commit)'**할 수 있도록 돕는다.

### **2. 타겟 고객 및 핵심 문제 (The Who & The What)**

*   **타겟 고객:** (기존과 동일)
*   **핵심 문제 (Pain Points):**
    1.  **되돌릴 수 없는 선택의 공포:** "A루트로 갈까, B루트로 갈까?" 고민하다 결국 아무것도 쓰지 못함. 한 번 쓴 내용을 지우면 영원히 사라질까 봐 과감한 수정을 주저함.
    2.  **버전 관리의 지옥:** `최종.hwp`, `진짜최종.hwp`, `진짜최종_수정1.hwp`... 수많은 버전 파일 속에서 길을 잃고 히스토리를 추적하지 못함.
    3.  **흩어진 아이디어:** 좋은 플롯 아이디어나 캐릭터 설정이 떠올라도, 이것이 현재의 메인 스토리와 어떻게 연결될지 몰라 사장됨.
    4.  **설정 붕괴:** 여러 버전을 오가며 작업하다 설정이 꼬이고 모순이 발생함.

### **3. MVP(Minimum Viable Product) 기능 정의: The Core of Git for Novels**

> **MVP 목표:** 다른 모든 기능을 최소화하더라도, 사용자가 **①브랜치로 자유롭게 탐색하고, ②커밋으로 안전하게 기록하며, ③AI의 도움으로 일관성을 유지하는** 핵심 경험을 완벽하게 제공한다.

#### **MVP 필수 모듈:**

1.  **프로젝트 대시보드 (Project Dashboard):**
    *   새 프로젝트(`Repository`) 생성 및 목록 관리.
    *   각 프로젝트의 브랜치 구조를 시각적으로 보여주는 미니맵.

2.  **통합 워크스페이스 (Unified Workspace):**
    *   **왼쪽 패널: Git 컨트롤 패널 & 파일 트리**
        *   **파일 트리:** `원고`, `캐릭터`, `설정` 폴더를 기본으로 제공. 사용자는 파일을 자유롭게 추가/관리할 수 있다. (모든 것은 텍스트 파일)
        *   **Git 패널:** 현재 브랜치 이름 표시, 브랜치 생성/전환 드롭다운, 커밋 히스토리 목록.
    *   **중앙 패널: 텍스트 에디터 (The Core)**
        *   선택된 파일을 편집하는 깔끔한 마크다운 기반 텍스트 에디터.
    *   **오른쪽 패널: AI 가디언 & 커밋 스테이지**
        *   **AI 가디언:** 실시간 설정 오류 경고 기능 (아래 상세 설명).
        *   **커밋 스테이지:** 변경된 파일 목록(`Staged Files`)과 커밋 메시지 입력창.

#### **MVP 킬러 기능 상세 정의:**

**1. 브랜칭 (Branching) - "모든 가능성을 탐험하라"**
*   **기능:** 현재 작업 상태를 기반으로 **새로운 이름의 브랜치를 즉시 생성**할 수 있다. (예: `main` 브랜치에서 `주인공이-흑화하는-루트` 브랜치 생성)
*   **사용자 경험:** 작가는 `main` 브랜치에서 안정적으로 스토리를 진행하다가, "만약 여기서 주인공이 흑화한다면?"이라는 아이디어가 떠오르면 주저 없이 새 브랜치를 파서 마음껏 상상의 나래를 펼칠 수 있다. 원래 스토리에는 아무런 영향을 주지 않는다.

**2. 커밋 (Committing) - "모든 순간을 기록하라"**
*   **기능:** 작가가 원하는 시점에 현재까지의 변경 사항을 하나의 '버전'으로 저장한다.
*   **사용자 경험:** 한 챕터 집필을 마친 후, 또는 중요한 설정을 추가한 후, 오른쪽 패널에서 변경된 파일들을 확인하고 **"2챕터: 조력자 등장 및 복선 추가"** 와 같은 의미 있는 커밋 메시지와 함께 버전을 기록한다. 이제 작가는 언제든 이 특정 시점으로 돌아올 수 있다는 심리적 안정감을 얻는다.

**3. 히스토리 & 타임머신 (History & Time-travel)**
*   **기능:** 왼쪽 Git 패널에서 해당 브랜치의 모든 커밋 목록을 시간순으로 볼 수 있다.
*   **사용자 경험:** 특정 커밋을 클릭하면, **그 시점의 파일 내용과 현재 내용을 나란히 비교(Diff)**하여 볼 수 있다. "어제 썼던 묘사가 더 좋았는데..."라고 생각될 때, 과거 버전에서 해당 부분만 복사해오거나, 클릭 한 번으로 프로젝트 전체를 그 시점으로 되돌릴 수 있다.

**4. AI 가디언 - "일관성은 내가 지킨다"**
*   **기능:** AI가 **현재 브랜치의 모든 파일(`캐릭터`, `설정` 포함)을 컨텍스트로 인지**하고, 작가가 원고를 작성할 때 실시간으로 모순을 감지한다.
*   **사용자 경험:** 작가가 `주인공이-흑화하는-루트` 브랜치에서 주인공의 눈 색깔을 '붉은색'으로 바꾼 뒤 원고를 작성하면, AI는 이 브랜치 내에서는 눈 색을 붉은색으로 인지한다. 하지만 `main` 브랜치로 돌아가면, 여전히 원래 설정인 '푸른색'을 기준으로 일관성을 검사해준다. **AI는 브랜치의 컨텍스트를 완벽하게 이해한다.**

### **4. Post-MVP 로드맵 (Git 기능 심화)**

*   **1단계: 시각화 및 비교 강화**
    *   **브랜치 그래프:** Git 그래프처럼 모든 브랜치의 분기 및 커밋 히스토리를 시각적으로 보여주는 전체 맵 제공.
    *   **브랜치 비교(Diff):** 두 개의 다른 브랜치를 선택하여 차이점을 나란히 비교하는 기능.

*   **2단계: 아이디어의 융합, '병합(Merge)'**
    *   **수동 병합 지원:** '흑화 루트' 브랜치에서 썼던 멋진 묘사나 대사만 선택하여 `main` 브랜치로 가져와 '병합'하는 기능.
    *   **AI 병합 어시스턴트:** 두 브랜치를 합칠 때 발생할 수 있는 설정 충돌을 AI가 미리 알려주고, 자연스러운 연결 문장을 추천.

### **5. 개발 액션 플랜 (Git-centric)**

*   **Sprint 0: 환경 구축 및 코어 에디터 (1주)**
    *   `[Task]` Next.js, Supabase, Vercel 기본 환경 설정 및 인증 구현.
    *   `[Task]` **(핵심)** 파일 트리(폴더/파일) 구조를 DB로 관리하고, 중앙에 텍스트 에디터를 구현하는 데 집중.

*   **Sprint 1: 로컬 버전 관리 시스템 구현 (2주)**
    *   `[Task]` **(핵심)** Git의 `commit` 개념을 DB로 구현. `commits` 테이블, `file_versions` 테이블 설계. 사용자가 파일 내용을 저장할 때마다 새로운 버전으로 기록하는 로직.
    *   `[Task]` 커밋 히스토리 UI 구현 및 특정 버전으로 내용을 되돌리는 '타임머신' 기능 구현.
    *   **`[Milestone]`** Git의 가장 기본적인 `commit`과 `checkout` 경험을 앱 내에서 제공할 수 있게 됨.

*   **Sprint 2: '브랜치' 기능 구현 (2주)**
    *   `[Task]` **(핵심)** DB 스키마에 `branches` 개념 추가. 특정 커밋을 기반으로 새로운 브랜치를 생성하고, 브랜치 간에 작업 환경을 전환하는 기능 구현.
    *   `[Task]` UI에 현재 브랜치 표시 및 브랜치 전환 드롭다운 메뉴 구현.
    *   **`[Milestone]`** 사용자가 여러 개의 스토리라인을 동시에 관리하는 핵심 가치를 경험함.

*   **Sprint 3: 'AI 가디언' 연동 및 MVP 완성 (2주)**
    *   `[Task]` **(핵심)** 원고 수정 시, 현재 활성화된 **브랜치의 모든 관련 파일 내용**을 컨텍스트로 조합하여 OpenAI API에 전송하고, 일관성 검사 결과를 받아오는 로직 구현.
    *   `[Task]` Freemium 모델을 위한 결제 시스템 연동 및 기능 제한 로직 구현.
    *   `[Task]` 전체적인 UI/UX 폴리싱 및 랜딩 페이지 제작.
    *   **`[Milestone]`** 'Git + AI'라는 프로젝트의 고유한 가치를 담은 MVP 완성.